% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils_data.R
\name{.prepare_plot_data}
\alias{.prepare_plot_data}
\title{Prepare Plot Data from Seurat or Dataframe}
\usage{
.prepare_plot_data(
  data,
  features = NULL,
  group.by = NULL,
  split.by = NULL,
  sample_col = NULL,
  assay = NULL,
  layer = "data",
  metadata_df = NULL,
  match_id = NULL
)
}
\arguments{
\item{data}{Seurat object or data.frame}

\item{features}{Character vector of features to extract}

\item{group.by}{Character. Column name for grouping (facet)}

\item{split.by}{Character. Column name for splitting (x-axis or color)}

\item{sample_col}{Character. Column name for sample/patient ID (for aggregation)}

\item{assay}{Character. Assay to use (Seurat only)}

\item{layer}{Character. Layer to use (Seurat only)}

\item{metadata_df}{Optional data.frame. Additional metadata to join}

\item{match_id}{Character. Column name in metadata_df for matching}
}
\value{
data.frame ready for plotting
}
\description{
Unified function to prepare data for plotting from either Seurat object
or dataframe input. Handles feature extraction, metadata joining, and validation.
}
\examples{
\dontrun{
plot_df <- .prepare_plot_data(
  data = sobj,
  features = c("CD3D", "CD4"),
  group.by = "cell_type",
  split.by = "condition"
)
}

}
\keyword{internal}
