% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/test_claude.R
\name{prepare_geomx_data}
\alias{prepare_geomx_data}
\title{Load and Prepare GeoMx Data for Seurat Analysis}
\usage{
prepare_geomx_data(
  count_file = NULL,
  metadata_file = NULL,
  count_matrix = NULL,
  metadata = NULL,
  config = create_analysis_config(),
  normalize_method = c("none", "log", "quantile"),
  min_cells = 0,
  min_features = 0
)
}
\arguments{
\item{count_file}{String. Path to count data file (.xlsx or .csv).
If NULL, must provide count_matrix.}

\item{metadata_file}{String. Path to metadata file (.xlsx or .csv).
If NULL, must provide metadata.}

\item{count_matrix}{Matrix. Raw count matrix (genes x samples).
Alternative to count_file.}

\item{metadata}{Data.frame. Sample metadata. Alternative to metadata_file.}

\item{config}{List. Configuration from create_analysis_config().}

\item{normalize_method}{String. One of "none", "log", or "quantile".
\itemize{
\item "none": Assumes data is already normalized (e.g., Q3 normalized)
\item "log": Standard Seurat log-normalization
\item "quantile": For pre-normalized data, just converts to log scale
}}

\item{min_cells}{Integer. Minimum cells expressing a gene to keep it.}

\item{min_features}{Integer. Minimum features per cell to keep it.}
}
\value{
A Seurat object with the following added metadata columns:
\itemize{
\item condition_full: timepoint_drug_response (e.g., "pre_Infliximab_R")
\item condition_simple: timepoint_drug (e.g., "pre_Infliximab")
\item drug_response: drug_response (e.g., "Infliximab_R")
}
}
\description{
Reads count matrix and metadata from files (Excel or CSV), creates a Seurat
object, and adds derived metadata columns for convenience in downstream analysis.
}
\examples{
sobj <- prepare_geomx_data(
  count_file = "counts.xlsx",
  metadata_file = "metadata.xlsx",
  config = config,
  normalize_method = "none"  # Already Q3 normalized
)
}
