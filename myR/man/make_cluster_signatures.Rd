% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/patient_dim_reduction.R
\name{make_cluster_signatures}
\alias{make_cluster_signatures}
\title{Build Cluster-Level Marker Signatures for Module Scoring}
\usage{
make_cluster_signatures(
  markers_df,
  seurat_obj = NULL,
  background_genes = NULL,
  assay = NULL,
  top_n = 20,
  p_adj_cut = 0.05,
  min_genes = 5,
  verbose = FALSE
)
}
\arguments{
\item{markers_df}{Data frame with at least \code{gene}, \code{cluster} and one of
\code{avg_log2FC}/\code{avg_logFC} plus one of \code{p_val_adj}/\code{p_val}.}

\item{seurat_obj}{Optional Seurat object used to infer available features.}

\item{background_genes}{Optional character vector restricting the signature
universe; takes precedence over \code{seurat_obj} if provided.}

\item{assay}{Assay to pull features from when \code{seurat_obj} is supplied. Falls
back to \code{DefaultAssay(seurat_obj)}.}

\item{top_n}{Number of genes to keep per cluster (sorted by logFC).}

\item{p_adj_cut}{Adjusted p-value threshold.}

\item{min_genes}{Minimum genes required to retain a cluster signature.}

\item{verbose}{Logical; emit progress messages.}
}
\value{
A list with \code{features_list}, \code{map}, and \code{settings}.
}
\description{
Convert a \code{FindAllMarkers}-style data.frame into a list of gene vectors that
can be consumed by \code{Seurat::AddModuleScore()}. Either supply a Seurat object
(the default, used to infer a background gene universe) or pass
\code{background_genes} explicitly.
}
